import{d as Z,c as y,a as N,i as d,b as o,e as p,f as c,I as z,t as a,o as R,g as F,F as Q,h as G,M as L,S as O,j as Y,r as X}from"./web-chunk.js";import{a as W,c as ee}from"./store-chunk.js";function V(n){const e=new Date(n),i=e.toLocaleString("default",{year:"numeric"}),l=e.toLocaleString("default",{month:"2-digit"}),t=e.toLocaleString("default",{day:"2-digit"});return i+"-"+l+"-"+t}function A(n){let e=n.split("T");return new Date(`${e[0]}T00:00:00.00`).toISOString()}const m=(n,e,i)=>l=>{const t=l.currentTarget;n(r=>e==="categories"?(r.categories[i]=t.value,{...r,categories:[...r.categories]}):e==="published"?{...r,published:!r.published}:e==="featured"?{...r,featured:!r.featured}:e==="date"?{...r,date:A(t.value)}:{...r,[e]:t.value})},q=n=>{n(e=>e.categories[e.categories.length-1]===""?{...e}:{...e,categories:[...e.categories,""]})},J=(n,e)=>i=>{n(l=>({...l,categories:l.categories.filter(t=>t!==l.categories[e])}))},te=a('<div class="admin-panel-editor-header"><h3>'),ie=a('<div class="admin-panel-editor-form"><label class="admin-panel-editor-form-label" for="title">Title:</label><input class="admin-panel-editor-form-input" id="title" type="text"><label class="admin-panel-editor-form-label" for="slug">Slug:</label><input class="admin-panel-editor-form-input" id="slug" type="text"><div class="admin-panel-editor-form-published"><label class="admin-panel-editor-form-label" for="published">Published:</label><input class="admin-panel-editor-form-checkbox" id="published" type="checkbox"></div><div class="admin-panel-editor-form-published"><label class="admin-panel-editor-form-label" for="featured">Featured:</label><input class="admin-panel-editor-form-checkbox" id="published" type="checkbox"></div><label class="admin-panel-editor-form-label" for="date">Date:</label><input class="admin-panel-editor-form-input" id="date" type="date"><label class="admin-panel-editor-form-label" for="series">Series:</label><input class="admin-panel-editor-form-input" type="series"><label class="admin-panel-editor-form-label" for="categories">Categories:</label><div class="admin-panel-editor-form-category-adder"><button class="admin-panel-editor-form-category-button add"><svg class="admin-panel-editor-form-category-button-svg" width="100%" height="100%" viewBox="0 0 114 114" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M56.833,8.333l0,97" style="fill:none;stroke:#fff;stroke-width:16.67px;"></path><path d="M105.333,56.833l-97,0" style="fill:none;stroke:#fff;stroke-width:16.67px;"></button></div><label class="admin-panel-editor-form-label" for="markdown">Markdown:</label><textarea class="admin-panel-editor-form-textarea" id="markdown"></textarea><button class="admin-panel-editor-form-button update">Update'),le=a('<div class="admin-panel-editor-form-category"><input class="admin-panel-editor-form-input-category" id="categories" type="text"><button class="admin-panel-editor-form-category-button remove"><svg class="admin-panel-editor-form-category-button-svg" width="100%" height="100%" viewBox="0 0 188 188" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M142.467,93.967l-97,0" style="fill:none;stroke:#fff;stroke-width:16.67px;">'),ne=n=>{const[e,i]=y(n.adminState.editorContent.editorPost);return N(()=>{i({...n.adminState.editorContent.editorPost})}),[(()=>{const l=te(),t=l.firstChild;return d(t,()=>e().title),l})(),(()=>{const l=ie(),t=l.firstChild,r=t.nextSibling,h=r.nextSibling,s=h.nextSibling,f=s.nextSibling,g=f.firstChild,u=g.nextSibling,b=f.nextSibling,$=b.firstChild,_=$.nextSibling,v=b.nextSibling,k=v.nextSibling,S=k.nextSibling,C=S.nextSibling,M=C.nextSibling,P=M.nextSibling,D=P.firstChild,U=P.nextSibling,j=U.nextSibling,B=j.nextSibling;return o(r,"input",m(i,"title"),!0),o(s,"input",m(i,"slug"),!0),o(u,"input",m(i,"published"),!0),o(_,"input",m(i,"featured"),!0),o(k,"input",m(i,"date"),!0),o(C,"input",m(i,"series"),!0),d(l,p(z,{get each(){return e().categories},children:(w,H)=>(()=>{const T=le(),x=T.firstChild,E=x.nextSibling;return o(x,"input",m(i,"categories",H),!0),o(E,"click",J(i,H),!0),c(()=>x.value=w()),T})()}),P),D.$$click=()=>q(i),o(j,"input",m(i,"markdown"),!0),B.$$click=async()=>{try{await W.post(`/admin/api/post/${e().id}`,{...e(),categories:e().categories.filter(w=>w!=""),date:A(e().date)}),n.fetchPostsHandler()}catch(w){console.log(w)}},c(()=>r.value=e().title),c(()=>s.value=e().slug),c(()=>u.checked=e().published),c(()=>_.checked=e().featured),c(()=>k.value=V(e().date)),c(()=>C.value=e().series),c(()=>j.value=e().markdown),l})()]};Z(["input","click"]);async function re(n){try{await W.post("/admin/api/post",{...n,categories:n.categories.filter(e=>e!=""),id:"00000000-0000-0000-0000-000000000000",date:A(n.date),created_at:"2000-01-01T00:00:00.000000Z",updated_at:"2000-01-01T00:00:00.000000Z"})}catch(e){console.log(e)}}const ae=a('<div class="admin-panel-editor-header"><h3>New Post'),oe=a('<div class="admin-panel-editor-form"><label class="admin-panel-editor-form-label" for="title">Title:</label><input class="admin-panel-editor-form-input" id="title" type="text"><label class="admin-panel-editor-form-label" for="slug">Slug:</label><input class="admin-panel-editor-form-input" id="slug" type="text"><div class="admin-panel-editor-form-published"><label class="admin-panel-editor-form-label" for="published">Published:</label><input class="admin-panel-editor-form-checkbox" id="published" type="checkbox"></div><div class="admin-panel-editor-form-published"><label class="admin-panel-editor-form-label" for="featured">Featured:</label><input class="admin-panel-editor-form-checkbox" id="featured" type="checkbox"></div><label class="admin-panel-editor-form-label" for="date">Date:</label><input class="admin-panel-editor-form-input" id="date" type="date"><label class="admin-panel-editor-form-label" for="series">Series:</label><input class="admin-panel-editor-form-input" type="series"><label class="admin-panel-editor-form-label" for="categories">Categories:</label><div class="admin-panel-editor-form-category-adder"><button class="admin-panel-editor-form-category-button add"><svg class="admin-panel-editor-form-category-button-svg" width="100%" height="100%" viewBox="0 0 114 114" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M56.833,8.333l0,97" style="fill:none;stroke:#fff;stroke-width:16.67px;"></path><path d="M105.333,56.833l-97,0" style="fill:none;stroke:#fff;stroke-width:16.67px;"></button></div><label class="admin-panel-editor-form-label" for="markdown">Markdown:</label><textarea class="admin-panel-editor-form-textarea" id="markdown"></textarea><button class="admin-panel-editor-form-button create">Create'),se=a('<div class="admin-panel-editor-form-category"><input class="admin-panel-editor-form-input" id="categories" type="text"><button class="admin-panel-editor-form-category-button remove"><svg class="admin-panel-editor-form-category-button-svg" width="100%" height="100%" viewBox="0 0 188 188" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M142.467,93.967l-97,0" style="fill:none;stroke:#fff;stroke-width:16.67px;">'),de=n=>{const[e,i]=y({id:"",date:new Date().toISOString(),slug:"",title:"",series:"",categories:[],markdown:"",published:!1,featured:!1,created_at:"",updated_at:""}),l=async()=>{try{await re({...e()}),n.fetchPostsHandler()}catch{}};return[ae(),(()=>{const t=oe(),r=t.firstChild,h=r.nextSibling,s=h.nextSibling,f=s.nextSibling,g=f.nextSibling,u=g.firstChild,b=u.nextSibling,$=g.nextSibling,_=$.firstChild,v=_.nextSibling,k=$.nextSibling,S=k.nextSibling,C=S.nextSibling,M=C.nextSibling,P=M.nextSibling,D=P.nextSibling,U=D.firstChild,j=D.nextSibling,B=j.nextSibling,w=B.nextSibling;return o(h,"input",m(i,"title"),!0),o(f,"input",m(i,"slug"),!0),o(b,"input",m(i,"published"),!0),o(v,"input",m(i,"featured"),!0),o(S,"input",m(i,"date"),!0),o(M,"input",m(i,"series"),!0),d(t,p(z,{get each(){return e().categories},children:(H,T)=>(()=>{const x=se(),E=x.firstChild,K=E.nextSibling;return o(E,"input",m(i,"categories",T),!0),o(K,"click",J(i,T),!0),c(()=>E.value=H()),x})()}),D),U.$$click=()=>q(i),o(B,"input",m(i,"markdown"),!0),w.$$click=l,c(()=>h.value=e().title),c(()=>f.value=e().slug),c(()=>b.checked=e().published),c(()=>v.checked=e().featured),c(()=>S.value=V(e().date)),c(()=>M.value=e().series),c(()=>B.value=e().markdown),t})()]};Z(["input","click"]);const ce=a('<div class="spinner-container"><div><svg width="100%" height="100%" viewBox="0 0 167 167" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g transform="matrix(1,0,0,1,-16.9299,-16.9299)"><g transform="matrix(1,0,0,1,2.5,-2.5)"><path d="M155.011,53.605C166.228,66.782 173,83.856 173,102.5C173,144.17 139.17,178 97.5,178C55.83,178 22,144.17 22,102.5" style="fill:none;stroke-width:15.14px;"></g><g transform="matrix(1,0,0,1,2.5,-2.5)"><path d="M40.165,53.399C54.016,37.243 74.571,27 97.5,27" style="fill:none;stroke-width:15.14px;"></div><div><svg width="100%" height="100%" viewBox="0 0 166 167" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g transform="matrix(1,0,0,1,-17,-16.9299)"><g transform="matrix(-0.707107,-0.707107,0.707107,-0.707107,96.4793,241.407)"><path d="M158.038,147.6C145.956,163.785 127.542,174.97 106.48,177.471C103.535,177.82 100.538,178 97.5,178C91.828,178 86.302,177.373 80.986,176.185" style="fill:none;stroke-width:15.14px;">'),ue=n=>{const[e,i]=y(""),l=setInterval(()=>i("show"),n.startTime);return R(()=>clearInterval(l)),(()=>{const t=ce(),r=t.firstChild,h=r.nextSibling;return c(s=>{const f=`spinner ${e()}`,g=`spinner-partial ${e()}`;return f!==s._v$&&F(r,s._v$=f),g!==s._v$2&&F(h,s._v$2=g),s},{_v$:void 0,_v$2:void 0}),t})()},pe=a('<div class="admin-panel-posts"><h3>Posts'),me=a('<div class="admin-panel-spinner ">'),fe=a('<div><span class="admin-panel-post-info-title"></span><span class="admin-panel-post-info">Slug: </span><span class="admin-panel-post-info">Series: </span><span class="admin-panel-post-info">Date: </span><span class="admin-panel-post-info">Created: </span><span class="admin-panel-post-info">Updated: </span><span class="admin-panel-post-info">Published: </span><span class="admin-panel-post-info">Featured: </span><div><button class="admin-panel-post-button update">Update</button><button class="admin-panel-post-button delete">Delete'),he=n=>(()=>{const e=pe();return e.firstChild,d(e,p(Q,{get each(){return n.posts},get fallback(){return(()=>{const i=me();return d(i,p(ue,{startTime:0})),i})()},children:(i,l)=>(()=>{const t=fe(),r=t.firstChild,h=r.nextSibling;h.firstChild;const s=h.nextSibling;s.firstChild;const f=s.nextSibling;f.firstChild;const g=f.nextSibling;g.firstChild;const u=g.nextSibling;u.firstChild;const b=u.nextSibling;b.firstChild;const $=b.nextSibling;$.firstChild;const _=$.nextSibling,v=_.firstChild;return d(r,()=>i.title),d(h,()=>i.slug,null),d(s,()=>`${i.series}`,null),d(f,()=>new Date(i.date).toLocaleDateString(),null),d(g,()=>`${new Date(i.created_at).toLocaleString()}`,null),d(u,()=>`${new Date(i.updated_at).toLocaleString()}`,null),d(b,()=>`${i.published}`,null),d($,()=>`${i.featured}`,null),o(v,"click",n.editorUpdatePostSelector(i),!0),c(()=>{var k;return F(t,`admin-panel-post ${((k=n.adminState.editorContent.editorPost)==null?void 0:k.id)===i.id?"active":""}`)}),t})()}),null),e})();Z(["click"]);const ge=a('<div class="admin-navigator-link logo"><svg class="admin-navigator-link-svg-logo" width="100%" height="100%" viewBox="0 0 1500 1500" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;"><path id="shape_fill" d="M1500,750l-750,-750l-750,750l750,750l750,-750Z" style="fill:none;"></path><g><g><path style="fill:#fff;" d="M1185.85,749.999l-435.926,-435.923l-298.059,298.059l167.329,-0l130.977,-130.978l268.811,268.842l-268.811,268.844l-130.977,-130.978l-167.329,0l298.059,298.059l435.926,-435.925Z"></path><path style="fill:#db2e2e;" d="M590.109,802.2l0.001,-104.4l-369.145,0l529.084,-529.084l449.843,449.842l168.666,0l-618.558,-618.558l-750,750l750,750l618.558,-618.558l-168.666,-0l-449.843,449.842l-529.084,-529.084l369.144,-0Z">'),be=a('<div class="admin-navigator-link"><svg class="admin-navigator-link-svg" width="100%" height="100%" viewBox="0 0 157 169" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M78.333,8.333l-70,54l0,98l140,0l0,-98l-70,-54Z" style="fill:none;stroke-width:16.67px;">'),$e=a('<div class="admin-navigator-link"><svg class="admin-navigator-link-svg" width="100%" height="100%" viewBox="0 0 131 160" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M8.333,151.333l0,-100" style="fill:none;stroke-width:16.67px;"></path><path d="M46.333,151.333l0,-143" style="fill:none;stroke-width:16.67px;"></path><path d="M84.333,151.333l0,-70" style="fill:none;stroke-width:16.67px;"></path><path d="M122.333,151.333l0,-118" style="fill:none;stroke-width:16.67px;">'),ve=a('<div class="admin-navigator-link"><svg class="admin-navigator-link-svg" width="100%" height="100%" viewBox="0 0 188 188" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><circle cx="93.967" cy="93.967" r="85.634" style="fill:none;stroke-width:16.67px;"></circle><g><path d="M93.967,45.467l0,97" style="fill:none;stroke-width:16.67px;"></path><path d="M142.467,93.967l-97,0" style="fill:none;stroke-width:16.67px;">'),ke=a('<div class="admin-navigator-link"><svg class="admin-navigator-link-svg" width="100%" height="100%" viewBox="0 0 188 209" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g id="reload"><path d="M93.967,29.332c47.263,0 85.634,38.372 85.634,85.634c-0,47.263 -38.371,85.634 -85.634,85.634c-47.262,-0 -85.634,-38.371 -85.634,-85.634" style="fill:none;stroke-width:16.67px;"></path><path d="M74.968,29.132l20.798,21.199l-20.798,-21.199l21.199,-20.799l-21.199,20.799Z" style="fill:none;stroke-width:16.67px;">'),_e=a('<div class="admin-navigator-link"><span>G'),we=a('<form class="admin-navigator-link" id="admin-logout" action="/admin/logout" method="post"><svg class="admin-navigator-link-svg" width="100%" height="100%" viewBox="0 0 183 187" version="1.1" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><path d="M140.333,38.333l0,-30l-104,0l0,170l104,0l0,-30" style="fill:none;stroke-width:16.67px;"></path><path d="M112.333,38.333l0,-30l-104,0l0,170l104,0l0,-30" style="fill:none;stroke-opacity:0;stroke-width:16.67px;"></path><path d="M106.583,93.333l67.5,0l-19.5,-19.5l19.5,19.5l-19.5,19.5l19.5,-19.5l-67.5,0Z" style="fill:#fff;stroke-width:16.67px;">'),xe=a('<div class="admin-navigator-link"><a class="admin-version" href="https://github.com/Ericarthurc/ericarthurc.com" target="_blank">'),ye=n=>{const[e,i]=y("");return G(async()=>{const t=await(await fetch("https://api.github.com/repos/ericarthurc/ericarthurc.com/commits")).json();i(t[0].commit.message.split(" ")[0])}),[ge(),(()=>{const l=be(),t=l.firstChild;return t.$$click=()=>{n.setAdminState({posts:!0,metrics:!1,editor:!1,editorContent:{creator:!1,editorPost:null}})},l})(),(()=>{const l=$e(),t=l.firstChild;return t.$$click=()=>{n.setAdminState({metrics:!0,posts:!1,editor:!1,editorContent:{creator:!1,editorPost:null}})},l})(),(()=>{const l=ve(),t=l.firstChild;return o(t,"click",n.editorCreateSelector,!0),l})(),ke(),(()=>{const l=_e();return l.$$click=()=>{window.location.href="/"},l})(),(()=>{const l=we(),t=l.firstChild;return t.$$click=()=>{document.getElementById("admin-logout").submit()},l})(),(()=>{const l=xe(),t=l.firstChild;return d(t,e),l})()]};Z(["click"]);const Se=a("<div>Metrics Coming Soon"),Ce=()=>Se(),Me=a('<div class="admin-panel-editor">'),Pe=a("<div>"),De=a('<main><div><div class="admin-console"><div class="admin-navigator">'),I=750,je=()=>{const[n,e]=y([]),[i,l]=y({height:window.innerHeight,width:window.innerWidth}),[t,r]=ee({posts:!0,metrics:!1,editor:!1,editorContent:{creator:!1,editorPost:null}}),h=u=>{l({height:window.innerHeight,width:window.innerWidth}),window.innerWidth<=I&&t.editor&&r({posts:!1}),window.innerWidth>=I&&r({posts:!0})};G(async()=>{window.addEventListener("resize",h);try{await s()}catch{}}),R(()=>{window.removeEventListener("resize",h)});const s=async()=>{const u=await W.get("/admin/api/post");u.data.sort((b,$)=>new Date($.date).getTime()-new Date(b.date).getTime()),e(u.data)},f=u=>()=>{r({editor:!0,posts:!0,metrics:!1,editorContent:{creator:!1,editorPost:u}}),window.innerWidth<=I&&t.editor&&r({posts:!1})},g=()=>{r({editor:!0,posts:!0,metrics:!1,editorContent:{creator:!0,editorPost:null}}),window.innerWidth<=I&&t.editor&&r({posts:!1})};return(()=>{const u=De(),b=u.firstChild,$=b.firstChild,_=$.firstChild;return d(_,p(ye,{editorCreateSelector:g,setAdminState:r})),d($,p(Y,{get children(){return[p(L,{get when(){return!t.metrics},get children(){const v=Pe();return d(v,p(O,{get when(){return t.posts},get children(){return p(he,{get posts(){return n()},adminState:t,editorUpdatePostSelector:f})}}),null),d(v,p(O,{get when(){return t.editor},get children(){const k=Me();return d(k,p(Y,{get children(){return[p(L,{get when(){return t.editorContent.editorPost},get children(){return p(ne,{adminState:t,fetchPostsHandler:s})}}),p(L,{get when(){return t.editorContent.creator},get children(){return p(de,{fetchPostsHandler:s})}})]}})),k}}),null),c(()=>F(v,`admin-panel ${i().width>=I&&t.editor&&t.posts?"multi-mode":"single-mode"}`)),v}}),p(L,{get when(){return t.metrics},get children(){return p(Ce,{})}})]}}),null),u})()},Be=document.getElementById("root");X(()=>p(je,{}),Be);
